<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego Adivina el N√∫mero</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
      background-size: 400% 400%;
      animation: moverFondo 10s ease infinite;
      display: flex;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }
    @keyframes moverFondo { 0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%} }
    .container { display:flex; gap:30px; flex-wrap:wrap; justify-content:center; }
    .card, .panel {
      background: rgba(255,255,255,0.9);
      padding:30px; border-radius:15px;
      box-shadow:0 4px 15px rgba(0,0,0,0.2);
      animation:fadeIn 0.6s ease-in;
      width:100%; max-width:400px;
    }
    @keyframes fadeIn { from{opacity:0;transform:scale(0.95);}to{opacity:1;transform:scale(1);} }
    input, select, button { width:100%; padding:10px; margin:10px 0; border-radius:8px; border:1px solid #ccc; font-size:1em; }
    button { background-color:#007bff; color:white; font-weight:bold; cursor:pointer; }
    button:hover { background-color:#0056b3; }
    #barraTiempo { height:10px; background-color:#28a745; transition:width 1s; width:100%; margin-top:10px; border-radius:5px; }
    #pantallaMensaje { position:fixed; top:0; left:0; width:100%; height:100%; background:black; color:white; display:none; align-items:center; justify-content:center; font-size:3em; z-index:9998; text-align:center; }
  </style>
</head>
<body>
  <div style="position:absolute; top:10px; left:20px; font-weight:bold; font-size:1.2em; color:white; text-shadow:1px 1px 2px black;">Mauricio Johansen</div>
  <div class="container">
    <div class="card">
      <h1>üéØ Adivina el N√∫mero</h1>
      <input type="text" id="nombreJugador" placeholder="Tu nombre" />
      <label for="dificultad">Seleccion√° un nivel:</label>
      <select id="dificultad" onchange="iniciarJuego()">
        <option value="">-- Elegir --</option>
        <option value="facil">F√°cil (1-10)</option>
        <option value="medio">Medio (1-20)</option>
        <option value="dificil">Dif√≠cil (1-50)</option>
        <option value="extremo">Extremo (1-100, 30s)</option>
      </select>

      <p id="rango"></p>
      <input type="number" id="numeroIngresado" disabled placeholder="Ingresa tu n√∫mero">
      <button id="btnAdivinar" disabled>Adivinar</button>
      <button id="btnReiniciar">üîÑ Reiniciar</button>
      <button id="btnCambiar">Cambiar jugador</button>

      <p id="mensaje"></p>
      <p id="intentos">Intentos: 0</p>
      <p id="temporizador"></p>
      <div id="barraTiempo"></div>
    </div>
  </div>

  <div id="pantallaMensaje">Sol sucia, ba√±ate üòÜ</div>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    let secreto, max, intentos, adivinado, tiempo, timer;
    function iniciarJuego() {
      const nom = document.getElementById('nombreJugador').value.trim();
      if (!nom) { alert('Ingresa tu nombre'); return; }
      const nivel = document.getElementById('dificultad').value;
      if (!nivel) return;
      clearInterval(timer);
      switch (nivel) {
        case 'facil': max=10; tiempo=60; break;
        case 'medio': max=20; tiempo=60; break;
        case 'dificil': max=50; tiempo=60; break;
        case 'extremo': max=100; tiempo=30; break;
      }
      secreto = Math.floor(Math.random()*max)+1;
      intentos = 0; adivinado = false;
      document.getElementById('rango').textContent=`Entre 1 y ${max}`;
      ['mensaje','intentos','temporizador'].forEach(id=>document.getElementById(id).textContent='');
      document.getElementById('intentos').textContent='Intentos: 0';
      document.getElementById('numeroIngresado').disabled=false; document.getElementById('btnAdivinar').disabled=false;
      iniciarTemporizador(nivel);
      document.getElementById('numeroIngresado').focus();
    }
    function verificar() {
      if (adivinado) return;
      const val = +document.getElementById('numeroIngresado').value;
      if (!val || val<1 || val>max) return;
      intentos++;
      document.getElementById('intentos').textContent=`Intentos: ${intentos}`;
      if (val===secreto) {
        adivinado=true; clearInterval(timer);
        document.getElementById('mensaje').textContent=`üéâ ¬°Adivinaste en ${intentos}!`;
      } else {
        document.getElementById('mensaje').textContent=val<secreto?'üìâ Muy bajo':'üìà Muy alto';
      }
    }
    function iniciarTemporizador(nivel) {
      if (nivel==='facil') return;
      document.getElementById('barraTiempo').style.width='100%';
      timer = setInterval(()=>{
        tiempo--;
        document.getElementById('temporizador').textContent=`‚è≥ ${tiempo}s`;
        const total = nivel==='extremo'?30:60;
        document.getElementById('barraTiempo').style.width=`${(tiempo/total)*100}%`;
        if (tiempo<=0) { clearInterval(timer); document.getElementById('btnAdivinar').disabled=true; document.getElementById('mensaje').textContent=`‚õî Se acab√≥ el tiempo, era ${secreto}`; }
      },1000);
    }
    function reiniciar() { clearInterval(timer); iniciarJuego(); }
    function cambiar() { clearInterval(timer); ['nombreJugador','dificultad','numeroIngresado'].forEach(id=>document.getElementById(id).value=''); document.getElementById('numeroIngresado').disabled=true; document.getElementById('btnAdivinar').disabled=true; }
    document.getElementById('btnAdivinar').onclick=verificar;
    document.getElementById('btnReiniciar').onclick=reiniciar;
    document.getElementById('btnCambiar').onclick=cambiar;
    document.getElementById('dificultad').onchange=iniciarJuego;
  </script>
</body>
</html>
